<!DOCTYPE html>
<html  dir="ltr" lang="en" data-theme="light"><head>
    <title> MD Holland | Developing a video game in C: Flappy Navi </title>

    
    <meta charset="utf-8"><meta name="generator" content="Hugo 0.101.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <meta name="description" content="Software Developer">
    
    
    
    <link rel="stylesheet"
        href="/css/main.min.d7d091492c200520b33b845275b425f60a913a013a133ee523d569ee7d465fdd.css"
        integrity="sha256-19CRSSwgBSCzO4RSdbQl9gqROgE6Ez7lI9Vp7n1GX90="
        crossorigin="anonymous"
        type="text/css">
    
    
    <link rel="stylesheet"
        href="/css/markupHighlight.min.bc108ac4d429f5e06afa75cfccb6585578f5198a03d669c1bd24b26e4a2895b7.css"
        integrity="sha256-vBCKxNQp9eBq&#43;nXPzLZYVXj1GYoD1mnBvSSybkoolbc="
        crossorigin="anonymous"
        type="text/css">
    
    <link rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" 
    integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" 
    crossorigin="anonymous" />
    
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

    <link rel="canonical" href="/post/developing-flappy-navi/">

    
    
    
    
    <script type="text/javascript"
            src="/js/anatole-header.min.d0408165d31a17f17bba83038bf54e86121f85021bdf936382e636f0f77a952f.js"
            integrity="sha256-0ECBZdMaF/F7uoMDi/VOhhIfhQIb35NjguY28Pd6lS8="
            crossorigin="anonymous"></script>


    
    <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://holland.vg/images/site-feature-image.png"/>

<meta name="twitter:title" content="Developing a video game in C: Flappy Navi"/>
<meta name="twitter:description" content="I write a lot of software, and last week I decided to spice up my repertoire with something fun: why not a video game? I spent only three days on this one, and I&rsquo;m very happy with how it turned out. In this article, I describe the steps I took to complete a small game development project: from start to finish."/>


    

</head>
<body>
<header><div class="page-top  . ">
    <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
    </a>
    <nav>
        <ul class="nav__list" id="navMenu">
            <div class="nav__links">
                
                
                    
                    <li><a 
                        href="/"
                                
                        title="">Home</a></li>
                
                
                    
                        <li><a href="/"
                            title=""></a>
                        </li>
                    
                        <li><a href="/ar/"
                            title=""></a>
                        </li>
                    
                
            </div>
            <li>
                
            </li>
        </ul>
    </nav>
</div>
</header>
<div class="wrapper">
    <aside><div class="sidebar . ">
    <div class="sidebar__content">
        <div class="logo-title">
            <div class="title">
                <img src="/images/profile.jpg" alt="profile picture">
                <h3 title=""><a href="/">MD Holland</a></h3>
                <div class="description">
                    <p>Software Developer</p>
                </div>
            </div>
        </div>
        <ul class="social-links">
            
                <li>
                    <a href="https://github.com/z64me" rel="me" aria-label="GitHub">
                        <i class="fab fa-github fa-2x" aria-hidden="true"></i>
                    </a>
                </li>
            
        </ul>
    </div><footer class="footer footer--sidebar">        
    <div class="by_farbox">
        <ul class="footer__list">
            <li class="footer__item">&copy;
                
                    2018 - 2022
                
            </li>
            
            <li class="footer__item">
                <a href="/post/index.xml"  title="">
                    rss
                </a>
            </li>
            
        </ul>
    </div>
</footer>

<script type="text/javascript"
        src="/js/medium-zoom.min.51d7548d5d0e5d4ff7991252239ce6abf1fd527a0eabad7ce6b49aa21f6e08da.js"
        integrity="sha256-UddUjV0OXU/3mRJSI5zmq/H9UnoOq6185rSaoh9uCNo="
        crossorigin="anonymous"></script></div>
</aside>
    <main>
        <div class="autopagerize_page_element">
            <div class="content">
    <div class="post  . ">
        <div class="post-content">
            
            <img class="post-thumbnail" src="/thumbnails/developing-flappy-navi.png" alt="Thumbnail image">
            
            <div class="post-title">
                <h1>Developing a video game in C: Flappy Navi</h1>
                
                    <div class="info">
                        <em class="fas fa-calendar-day"></em>
                        <span class="date"> 
                                                16/8/2021
                                           </span>
                        <em class="fas fa-stopwatch"></em>
                        <span class="reading-time">6-minute read</span>
                    </div>
                
            </div>

            <p>I write a lot of software, and last week I decided to spice up my repertoire with something fun: why not a video game? I spent only three days on this one, and I&rsquo;m very happy with how it turned out. In this article, I describe the steps I took to complete a small game development project: from start to finish.</p>
<h2 id="planning">Planning</h2>
<p>Games, being finite-state machines, are best represented using flowcharts. Here&rsquo;s mine:</p>
<p><img src="/images/developing-flappy-navi-flowchart.png" alt="image"></p>
<p>Once I determined a list of game states, I created mockups for each. These reflected how I wanted the game to look, and they helped me establish a working screen resolution so I wouldn&rsquo;t run into problems later.</p>
<table>
<thead>
<tr>
<th>Mockup</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="/images/developing-flappy-navi-mockup-title.png" alt="image"></td>
<td>Title Screen</td>
</tr>
<tr>
<td><img src="/images/developing-flappy-navi-mockup-gameplay.png" alt="image"></td>
<td>Gameplay</td>
</tr>
<tr>
<td><img src="/images/developing-flappy-navi-mockup-gameover.png" alt="image"></td>
<td>Game Over</td>
</tr>
</tbody>
</table>
<h2 id="frame-rate-independent-motion">Frame rate independent motion</h2>
<p>It&rsquo;s easy to accidentally write code that works fine on one monitor but malfunctions on another. This is due to differences in monitor refresh rate. There are many solutions to this problem, and <a href="https://gafferongames.com/post/fix_your_timestep/"><em>Fix your Timestep!</em> by Glenn Fiedler</a> is a great article on the subject.</p>
<p>For this project, I wanted to try something new. I found using real-world time to be more intuitive and lightweight than counting frames. Every entity&rsquo;s position is calculated based on a pausable timer that tracks how long the game has been running. This automatically works both with and without VSync, and on any monitor with any refresh rate.</p>
<h2 id="player">Player</h2>
<p><img src="/images/developing-flappy-navi-player.gif" alt="image"></p>
<p>The player is nothing more than a center-screen rectangle that is influenced by gravity. Because all movement is based on real-world time, I can conveniently use this parabolic motion formula for the physics:</p>
<p><img src="/images/developing-flappy-navi-quadratic-equation.png" alt="image"></p>
<p>And here it is expressed as a simple C function:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/* a snippet from FlappyNavi/src/player.c */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/* player movement is accomplished using a simple quadratic equation;
</span></span></span><span class="line"><span class="cl"><span class="cm"> * this solution keeps the game framerate-independent without having
</span></span></span><span class="line"><span class="cl"><span class="cm"> * to introduce frame step logic
</span></span></span><span class="line"><span class="cl"><span class="cm"> * https://www.slideshare.net/snewgas/applications-of-the-vertex-formula-edit-8191421
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="kt">float</span> <span class="nf">ParabolaMotion</span><span class="p">(</span><span class="k">struct</span> <span class="n">Parabola</span> <span class="n">p</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">milliseconds</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kt">float</span> <span class="n">seconds</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   <span class="n">seconds</span> <span class="o">=</span> <span class="n">milliseconds</span> <span class="o">*</span> <span class="mf">0.001f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   <span class="k">return</span> <span class="n">PLAYER_GRV</span> <span class="o">*</span> <span class="n">pow</span><span class="p">(</span><span class="n">seconds</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">PLAYER_YVEL</span> <span class="o">*</span> <span class="n">seconds</span> <span class="o">+</span> <span class="n">p</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="obstacles">Obstacles</h2>
<p><img src="/images/developing-flappy-navi-obstacles.gif" alt="image"></p>
<p>It may appear that the player is moving through the world, but it&rsquo;s actually the other way around. Indeed, the world is moving around the player! At a regular interval, a new obstacle is created just outside the viewing area, to the right. Then, it moves at a constant speed until it runs off the left edge of the screen. This creates the illusion of the player moving forward continuously.</p>
<p>The openings the player must fly through come in three varieties: low, medium, and high. They are selected at random, but I also factor in earlier values to help reduce repetition.</p>
<h2 id="collision-detection">Collision detection</h2>
<p><img src="/images/developing-flappy-navi-collision.gif" alt="image"></p>
<p>Collision programming is a great opportunity to be creative because it&rsquo;s one of those problems that everyone seems to solve differently.</p>
<p>My implementation involves three steps:</p>
<ul>
<li>Initialize a collider arena.</li>
<li>Add colliders to it.</li>
<li>Process it.</li>
</ul>
<p>I handled collision responses by giving colliders optional callbacks that they execute when they overlap with other colliders. Using callbacks this way makes signaling a &ldquo;game over&rdquo; condition incredibly easy. This is one of my favorite features.</p>
<h2 id="graphics">Graphics</h2>
<p><img src="/images/developing-flappy-navi-sprites15.gif" alt="image"></p>
<p><del>Now that the score is displayed onscreen, I can stop printing it to the terminal window.</del></p>
<p>Even for a game of this scope, there can be many graphics, and their dimensions can vary by a lot. I wanted a way to optimally pack a bunch of sprites into one sprite sheet without having to keep track of their dimensions or exact pixel coordinates.</p>
<p>Here is the mini specification I came up with for what I call &ldquo;packed sprite sheets&rdquo;:</p>
<ul>
<li>Sprite sheets are processed from top to bottom, left to right.</li>
<li>Control pixels along the leftmost column are used to identify rows of control pixels.</li>
<li>Rows of control pixels are used to specify the upper left corner of each sprite beneath the row.</li>
<li>This happens at runtime, so I can tweak sprites as needed without having to change code.</li>
</ul>
<p>This, too, can be illustrated using a flowchart:</p>
<p><img src="/images/developing-flappy-navi-spritesheet.png" alt="image"></p>
<p>If you color-code it based on the control pixels, you get this:</p>
<p><img src="/images/developing-flappy-navi-spritesheet-colors.png" alt="image"></p>
<p>To display a sprite in the game window, you only need its row/column indices:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/* a snippet from FlappyNavi/src/ui.c */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">winCenterX</span> <span class="o">=</span> <span class="n">WINDOW_W</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/* logo */</span>
</span></span><span class="line"><span class="cl"><span class="n">SpritesheetDrawCentered</span><span class="p">(</span><span class="n">game</span><span class="p">,</span> <span class="n">game</span><span class="o">-&gt;</span><span class="n">ui</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">winCenterX</span><span class="p">,</span> <span class="n">WINDOW_H</span> <span class="o">/</span> <span class="mi">5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/* author */</span>
</span></span><span class="line"><span class="cl"><span class="n">SpritesheetDrawCentered</span><span class="p">(</span><span class="n">game</span><span class="p">,</span> <span class="n">game</span><span class="o">-&gt;</span><span class="n">ui</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">winCenterX</span><span class="p">,</span> <span class="n">WINDOW_H</span> <span class="o">-</span> <span class="mi">11</span><span class="p">);</span>
</span></span></code></pre></div><h2 id="background">Background</h2>
<p><img src="/images/developing-flappy-navi-background31.gif" alt="image"></p>
<p>The last thing I added was a static background. The floor is drawn separately and it scrolls along at the same speed as the obstacles, completing the effect I described earlier.</p>
<h2 id="minimum-viable-product-mvp">Minimum Viable Product (MVP)</h2>
<p>With all game states and visuals implemented, Flappy Navi had reached an important development milestone: the MVP. It was a fully playable game, and everything I added afterwards was icing on the cake.</p>
<h2 id="themes">Themes</h2>
<p><img src="/images/developing-flappy-navi-themes127.gif" alt="image"></p>
<p>The &ldquo;Theme&rdquo; button magically teleports the player to several recognizable locations. This keeps things fresh.</p>
<p>Did you notice that some backgrounds animate?</p>
<h2 id="particles">Particles</h2>
<p><img src="/images/developing-flappy-navi-particles31.gif" alt="image"></p>
<p>Particle effects make any game more lively. New particles are added to the game world like so:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/* a snippet from FlappyNavi/src/player.c */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/* spawn particles */</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">game</span><span class="o">-&gt;</span><span class="n">ticks</span> <span class="o">-</span> <span class="n">fairy</span><span class="o">-&gt;</span><span class="n">particleTime</span> <span class="o">&gt;=</span> <span class="n">PLAYER_PARTFREQ</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="n">fairy</span><span class="o">-&gt;</span><span class="n">particleTime</span> <span class="o">=</span> <span class="n">game</span><span class="o">-&gt;</span><span class="n">ticks</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   <span class="n">y</span> <span class="o">+=</span> <span class="n">FlappyRand</span><span class="p">(</span><span class="n">game</span><span class="p">)</span> <span class="o">%</span> <span class="mi">16</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   <span class="n">x</span> <span class="o">+=</span> <span class="n">FlappyRand</span><span class="p">(</span><span class="n">game</span><span class="p">)</span> <span class="o">%</span> <span class="mi">16</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   <span class="n">ParticlePush</span><span class="p">(</span><span class="n">game</span><span class="p">,</span> <span class="n">fairy</span><span class="o">-&gt;</span><span class="n">particle</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>A linked list is used to keep track of every particle. A particle expires once it finishes playing its animation.</p>
<h2 id="player-ghosts">Player &ldquo;ghosts&rdquo;</h2>
<p><img src="/images/developing-flappy-navi-friends64.gif" alt="image"></p>
<p>I thought it would be cute if Navi had some friends. This feature takes advantage of the fact that player movement is accomplished by chaining quadratic equations together. Deriving earlier player positions is as simple as keeping an array of recently-used equations and querying it.</p>
<p><img src="/images/developing-flappy-navi-path64.gif" alt="image"></p>
<p>This debugging feature uses that array to display the path traveled.</p>
<p>Navi&rsquo;s friends appear only on certain themes. Can you find them?</p>
<h2 id="a-stage-hazard">A stage hazard</h2>
<p><img src="/images/developing-flappy-navi-hazard64.gif" alt="image"></p>
<p>In the belly of the fish, easing functions are used to raise and lower gastric juices that try to digest the player. This hazard is pretty easy to avoid, but it&rsquo;s a fun gimmick nonetheless.</p>
<h2 id="the-virtual-filesystem">The virtual filesystem</h2>
<p>There&rsquo;s nothing quite like distributing a piece of software as a tiny self-contained executable. Because all the asset loading is routed through a single function, this goal seemed feasible, so I decided to give it a try.</p>
<p>When the compiler flag <code>-DFLAPPY_STATIC_BUILD</code> is specified, a rudimentary virtual filesystem is embedded into the application like so:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/* a snippet from FlappyNavi/src/file.c */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&#34;incbin.h&#34;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">struct</span> <span class="n">VirtualFile</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">fn</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="o">*</span><span class="n">sz</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cp">#define VirtualFileDecl(NAME, FN) { \
</span></span></span><span class="line"><span class="cl"><span class="cp">  FN \
</span></span></span><span class="line"><span class="cl"><span class="cp">  , INCBIN_CONCATENATE( \
</span></span></span><span class="line"><span class="cl"><span class="cp">            INCBIN_CONCATENATE(INCBIN_PREFIX, NAME), \
</span></span></span><span class="line"><span class="cl"><span class="cp">            INCBIN_STYLE_IDENT(DATA)) \
</span></span></span><span class="line"><span class="cl"><span class="cp">  , &amp;INCBIN_CONCATENATE( \
</span></span></span><span class="line"><span class="cl"><span class="cp">            INCBIN_CONCATENATE(INCBIN_PREFIX, NAME), \
</span></span></span><span class="line"><span class="cl"><span class="cp">            INCBIN_STYLE_IDENT(SIZE)) \
</span></span></span><span class="line"><span class="cl"><span class="cp">}
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cm">/* produce symbols for each */</span>
</span></span><span class="line"><span class="cl"><span class="n">INCBIN</span><span class="p">(</span><span class="n">Backgrounds</span><span class="p">,</span> <span class="s">&#34;gfx/backgrounds.png&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">INCBIN</span><span class="p">(</span><span class="n">Obstacles</span><span class="p">,</span> <span class="s">&#34;gfx/obstacles.png&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">INCBIN</span><span class="p">(</span><span class="n">Particles</span><span class="p">,</span> <span class="s">&#34;gfx/particles.png&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">INCBIN</span><span class="p">(</span><span class="n">Sprites</span><span class="p">,</span> <span class="s">&#34;gfx/sprites.png&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">INCBIN</span><span class="p">(</span><span class="n">Jabu</span><span class="p">,</span> <span class="s">&#34;gfx/jabu.png&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">INCBIN</span><span class="p">(</span><span class="n">Icon</span><span class="p">,</span> <span class="s">&#34;gfx/icon.png&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">INCBIN</span><span class="p">(</span><span class="n">Ui</span><span class="p">,</span> <span class="s">&#34;gfx/ui.png&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/* now reference those symbols in an array for easy lookup */</span>
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">VirtualFile</span> <span class="n">Filesystem</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="n">VirtualFileDecl</span><span class="p">(</span><span class="n">Backgrounds</span><span class="p">,</span> <span class="s">&#34;gfx/backgrounds.png&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">,</span> <span class="n">VirtualFileDecl</span><span class="p">(</span><span class="n">Obstacles</span><span class="p">,</span> <span class="s">&#34;gfx/obstacles.png&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">,</span> <span class="n">VirtualFileDecl</span><span class="p">(</span><span class="n">Particles</span><span class="p">,</span> <span class="s">&#34;gfx/particles.png&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">,</span> <span class="n">VirtualFileDecl</span><span class="p">(</span><span class="n">Sprites</span><span class="p">,</span> <span class="s">&#34;gfx/sprites.png&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">,</span> <span class="n">VirtualFileDecl</span><span class="p">(</span><span class="n">Jabu</span><span class="p">,</span> <span class="s">&#34;gfx/jabu.png&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">,</span> <span class="n">VirtualFileDecl</span><span class="p">(</span><span class="n">Icon</span><span class="p">,</span> <span class="s">&#34;gfx/icon.png&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">,</span> <span class="n">VirtualFileDecl</span><span class="p">(</span><span class="n">Ui</span><span class="p">,</span> <span class="s">&#34;gfx/ui.png&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></div><p>Lastly, I wrote a new function that locates a virtual file by name and returns a copy of its data.</p>
<p>This feature is completely optional, and no changes outside the source file <code>FlappyNavi/src/file.c</code> were necessary.</p>
<h2 id="thanks-for-reading">Thanks for reading</h2>
<p><img src="/images/developing-flappy-navi-title64.gif" alt="image"></p>
<p>I had a lot of fun working on this. Video games are complex machines, no matter how simple they may seem on the surface.</p>
<p>As always, the full source code is <a href="https://github.com/z64me/FlappyNavi">available on GitHub: z64me/FlappyNavi</a></p>
<h2 id="attribution">Attribution</h2>
<p>Flappy Navi was made possible by the following open-source libraries:</p>
<ul>
<li><a href="https://www.libsdl.org/">Simple DirectMedia Layer</a></li>
<li><a href="https://github.com/nothings/stb">stb_image</a></li>
<li><a href="https://github.com/graphitemaster/incbin">incbin</a></li>
<li><a href="https://github.com/mattiasgustavsson/libs">rnd</a></li>
<li>And many thanks to Master Yoshi for the awesome Navi sprites!</li>
</ul></div>
        <div class="post-footer">
            <div class="info">
                
                <span class="separator"><a class="tag" href="/tags/fun/">fun</a><a class="tag" href="/tags/articles/">articles</a><a class="tag" href="/tags/programming/">programming</a></span>
            </div>
        </div>

        
    </div>


            </div>
        </div>
    </main>
</div><footer class="footer footer--base">        
    <div class="by_farbox">
        <ul class="footer__list">
            <li class="footer__item">&copy;
                
                    2018 - 2022
                
            </li>
            
            <li class="footer__item">
                <a href="/post/index.xml"  title="">
                    rss
                </a>
            </li>
            
        </ul>
    </div>
</footer>

<script type="text/javascript"
        src="/js/medium-zoom.min.51d7548d5d0e5d4ff7991252239ce6abf1fd527a0eabad7ce6b49aa21f6e08da.js"
        integrity="sha256-UddUjV0OXU/3mRJSI5zmq/H9UnoOq6185rSaoh9uCNo="
        crossorigin="anonymous"></script></body>

</html>
